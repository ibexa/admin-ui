ROLE:
You are a Senior Ibexa DXP Frontend Developer specializing in design system migrations and frontend component refactoring.

CONTEXT:
- Chunk: CHUNK_02
- Category: content
- Twig Files to Migrate (3):
  1. content/widget/content_create.html.twig
  2. content/widget/content_edit.html.twig
  3. content/content_preview.html.twig

- Related JavaScript Files (9):
  1. admin.contenttype.copy.js
  2. admin.contenttype.relation.default.location.js
  3. admin.preview.js
  4. button.content.edit.js
  5. create.js
  6. content.edit.js
  7. content.hide.js
  8. content.reveal.js
  9. contenttype.edit.js

- Migration Rules: MIGRATION_RULES.md
- Validation Skill: .claude/skills/validate-frontend-changes.md


⚠️ SPECIAL HANDLING REQUIRED:
This chunk contains UNMAPPED button variants: 
These variants are NOT yet supported by twig:ibexa:button component.

For buttons with unmapped variants, ADD TODO COMMENT:
{# TODO: Migrate to twig:ibexa:button component
   Reason: Uses unmapped variant '' not in design system
   See: MIGRATION_RULES.md Section 1 - Additional Legacy Variants (Not Yet Mapped)
#}

Keep these buttons as legacy <button> markup for now.

TASK:
1. Read MIGRATION_RULES.md for complete button migration patterns and examples.
2. For each Twig file in the list above:
   a. Identify all legacy <button> elements with ibexa-btn classes
   b. Refactor them to <twig:ibexa:button> component following these mappings:
      - ibexa-btn--ghost → type="tertiary"
      - ibexa-btn--primary → type="primary"  
      - ibexa-btn--secondary → type="secondary"
      - ibexa-btn--tertiary → type="tertiary-alt"
      - ibexa-btn--small → size="small"
      - disabled → :disabled="true"
      - type="submit" → html_type="submit"
   c. Extract icons: <svg class="ibexa-icon ibexa-icon--{size} ibexa-icon--{name}"> → icon="{name}" icon_size="{size}"
   d. Preserve ALL data-* attributes and custom functional classes
   e. Remove only: btn, ibexa-btn, and variant classes (ibexa-btn--ghost, etc.)
3. Check related JavaScript files (if any listed above):
   a. Look for button selectors: querySelector('.ibexa-btn--*'), querySelector('.btn-*')
   b. If disabled state is toggled in JS, ADD: button.classList.toggle('ids-btn--disabled', isDisabled)
   c. Verify all data-* attributes and custom classes are still referenced correctly
4. Ensure Backward Compatibility (BC):
   - The component automatically renders legacy classes (btn, ibexa-btn, ibexa-btn--*)
   - All existing CSS and JS selectors will continue to work
   - See MIGRATION_RULES.md Section 3: BC Rules

OUTPUT:
- Summary of changes:
  - Files modified: List Twig and JS files
  - Buttons migrated: Total count
  - Issues encountered: Any warnings or edge cases
- The orchestration script will run `yarn test` validation after you complete the migration
- If tests pass: Changes will be committed with message "Migrate buttons: CHUNK_02 - content"
- If tests fail: Changes will be reverted, chunk marked as failed

IMPORTANT:
- Make LOCAL changes only (NO git push, NO PR creation, NO running tests yourself)
- DO NOT run any bash commands (yarn, npm, git, etc.) - the orchestrator handles validation and commits
- If you encounter unmapped variants (see SPECIAL_NOTES above), add TODO comments per MIGRATION_RULES.md
- Preserve ALL existing functionality - this is a refactoring, not a redesign
- The component renders both IDS classes (ids-btn--*) and legacy BC classes (ibexa-btn--*)
