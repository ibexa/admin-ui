{% trans_default_domain 'ibexa_notifications' %}

{% form_theme search_form with '@ibexadesign/account/notifications/filters/form_fields.html.twig' %}
{% set is_any_filter_set = search_form.vars.is_any_filter_set %}

<div class="ibexa-list-filters">
    <div class="ibexa-list-filters__header">
        <button
            type="button"
            aria-expanded="true"
            class="btn ibexa-btn ibexa-btn--secondary-dark ibexa-btn--no-text ibexa-list-filters__expand-btn"
        >
            <svg class="ibexa-icon ibexa-icon--tiny-small ibexa-list-filters__collapse-icon">
                <use xlink:href="{{ ibexa_icon_path('expand-right') }}"></use>
            </svg>
            <svg class="ibexa-icon ibexa-icon--tiny-small ibexa-list-filters__expand-icon" hidden>
                <use xlink:href="{{ ibexa_icon_path('filters') }}"></use>
            </svg>
        </button>
        <h4 class="ibexa-list-filters__title">{{ 'ibexa.notifications.search_form.title'|trans()|desc('Filters') }}</h4>
        <div class="ibexa-list-filters__btns">
            <twig:ibexa:button
                html_type="button"
                type="tertiary-alt"
                size="small"
                class="ids-button--clear"
                :disabled="not is_any_filter_set"
            >
                {{ 'ibexa.notifications.search_form.clear'|trans|desc('Clear') }}
            </twig:ibexa:button>
            <button
                type="submit"
                class="btn ibexa-btn ibexa-btn--secondary ibexa-btn--small ids-button--apply"
                {% if not is_any_filter_set %}disabled="true"{% endif %}
            >
                {{ 'ibexa.notifications.search_form.apply'|trans|desc('Apply') }}
            </button>
        </div>
    </div>

    <div class="ibexa-list-filters__items accordion">
        {{ form_row(search_form.type) }}
        {% if search_form.statuses is defined %}
            {{ form_row(search_form.statuses, { attr: { class: 'ibexa-list-filters__checkbox'} }) }}
        {% endif %}
        {{ form_row(search_form.createdRange) }}
        {{ form_rest(search_form) }}
    </div>
</div>
