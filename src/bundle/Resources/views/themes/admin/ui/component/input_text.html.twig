{% import '@ibexadesign/ui/component/macros.html.twig' as html %}

{% set has_search = has_search|default(false) %}
{% set wrapper_attr = wrapper_attr|default({})|merge({
    class: (wrapper_attr.class|default('')
        ~ ' ibexa-input-text-wrapper'
        ~ (has_search ? ' ibexa-input-text-wrapper--search')
        ~ (type is defined ? " ibexa-input-text-wrapper--type-#{type}")
    )|trim
}) %}

<div {{ html.attributes(wrapper_attr) }}>
    {% block content %}{% endblock %}
    <div class="ibexa-input-text-wrapper__actions">
        {% block actions %}
            <button type="button" class="btn ibexa-input-text-wrapper__action-btn ibexa-input-text-wrapper__action-btn--clear" tabindex="-1">
                <svg class="ibexa-icon">
                    <use xlink:href="{{ ibexa_icon_path('discard') }}"></use>
                </svg>
            </button>
            {% if has_search %}
                <button type="{{ search_button_type|default('submit') }}" class="btn ibexa-input-text-wrapper__action-btn ibexa-input-text-wrapper__action-btn--search" tabindex="-1">
                    <svg class="ibexa-icon ibexa-icon--small">
                        <use xlink:href="{{ ibexa_icon_path('search') }}"></use>
                    </svg>
                </button>
            {% endif %}
        {% endblock %}
    </div>
    {% block extra_content %}{% endblock %}
</div>
