@use '@ibexa-admin-ui/src/bundle/Resources/public/scss/custom.scss' as *;
@use '@ibexa-admin-ui/src/bundle/Resources/public/scss/functions/calculate.rem' as *;

.ibexa-anchor-navigation {
    $self: &;

    &__sections {
        .card {
            position: unset;
        }
    }

    &__section {
        border-bottom: calculateRem(1px) solid $ibexa-color-light;
        margin-bottom: calculateRem(36px);

        .ibexa-form-field:last-child {
            margin-bottom: calculateRem(24px);
        }

        &:last-child {
            border-bottom: none;
        }

        &--no-border {
            border-bottom: none;
        }
    }

    &__section-group {
        display: none;

        &--active {
            display: block;
        }
    }

    &__section-header {
        margin-bottom: calculateRem(24px);
    }

    &__section-help {
        color: $ibexa-color-dark-400;
        padding-bottom: calculateRem(24px);
    }
}

.ibexa-anchor-navigation-menu {
    &__header {
        height: calculateRem(87px);
        padding: calculateRem(20px) 0 0 calculateRem(17px);
        border-bottom: calculateRem(1px) solid $ibexa-color-light;
    }

    &__body {
        height: calc(100% - #{calculateRem(87px)});
        overflow: auto;
        padding: calculateRem(25px);
        font-size: $ibexa-text-font-size-medium;
    }

    &__close {
        font-weight: 600;
        margin-right: calculateRem(20px);
    }

    &__section-groups {
        min-width: calculateRem(280px);
        max-width: calculateRem(420px);
        width: calc(25vw - #{calculateRem(50px)});
        height: calculateRem(48px);
    }

    &__sections {
        min-width: calculateRem(240px);
        list-style: none;
        display: none;
        margin: calculateRem(24px) 0 0;
        padding: calculateRem(24px) 0 0;
        border-top: calculateRem(1px) solid $ibexa-color-light;

        &--active {
            display: block;
        }

        &--no-border {
            border: 0;
            margin-top: 0;
            padding-top: 0;
        }
    }

    &__sections-item-btn {
        display: inline-flex;
        width: 100%;
        padding: calculateRem(11px) calculateRem(15px);
        border: calculateRem(1px) solid transparent;
        border-radius: $ibexa-border-radius;
        text-align: left;

        &::before {
            content: '';
            display: block;
            width: calculateRem(8px);
            height: calculateRem(8px);
            margin: calculateRem(8px) calculateRem(16px) 0 0;
            border-radius: 50%;
            background-color: $ibexa-color-light;
        }

        &::after {
            content: '*';
            width: calculateRem(16px);
            display: inline-block;
            opacity: 0;
            margin: calculateRem(4px) 0 0 calculateRem(4px);
            color: $ibexa-color-danger;
            font-size: $ibexa-text-font-size-small;
        }

        &:hover {
            color: $ibexa-color-info;
            font-weight: 600;

            &::before {
                background-color: $ibexa-color-info;
            }
        }

        &--active {
            color: $ibexa-color-info;
            background: $ibexa-color-info-100;
            font-weight: 600;

            &::before {
                background-color: $ibexa-color-info;
            }
        }

        &--invalid {
            &::after {
                opacity: 1;
            }
        }
    }

    &__sections-item-label {
        max-width: calc(100% - #{calculateRem(45px)});
    }

    &__item-label {
        text-overflow: ellipsis;
        overflow: hidden;
    }

    &__item-error {
        margin-top: calculateRem(-3px);
        fill: $ibexa-color-danger;

        &--hidden {
            display: none;
        }
    }

    &__error {
        &--hidden {
            display: none;
        }
    }
}
