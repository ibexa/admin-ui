{% trans_default_domain 'ibexa_locationview' %}

{% set data_actions = data_actions|default('edit') %}

<div class="ibexa-extra-actions ibexa-extra-actions--edit ibexa-extra-actions--hidden {% if form.language.vars.choices|length == 1 %} ibexa-extra-actions--prevent-show {% endif %}" data-actions="{{ data_actions }}">
    <div class="ibexa-extra-actions__header">
        <h3>{{ 'content.edit.select_language'|trans|desc('Select translation') }} (<span class="ibexa-extra-actions__counter">{{ form.language.vars.choices|length }}</span>)</h3>
        <button class="btn ibexa-btn ibexa-btn--ghost ibexa-btn--small ibexa-btn--no-text ibexa-btn--close">
            <svg class="ibexa-icon ibexa-icon--small">
                <use xlink:href="{{ ibexa_icon_path('discard') }}"></use>
            </svg>
        </button>
    </div>
    <div class="ibexa-extra-actions__content">
        {% set action = action is defined ? action : path('ibexa.content.edit') %}
        {{ form_start(form, { 'action': action }) }}
        {{ form_widget(form.content_info, { 'attr': {
            'hidden': 'hidden',
            'class': 'ibexa-extra-actions__form-field ibexa-extra-actions__form-field--content-info'
        } }) }}
        {{ form_widget(form.version_info, { 'attr': {
            'hidden': 'hidden',
            'class': 'ibexa-extra-actions__form-field'
        } }) }}
        {{ form_widget(form.language, { 'attr': {
            'class': 'ibexa-extra-actions__form-values'
        } }) }}
        {{ form_widget(form.location, { 'attr': {
            'hidden': 'hidden',
            'class': 'ibexa-extra-actions__form-field ibexa-extra-actions__form-field--location'
        } }) }}
        {{ form_end(form) }}
    </div>
</div>
